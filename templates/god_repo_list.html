{% extends "layout.html" %}
{% block body %}

<div class="page-header">
  <h1>
<span class="fa-stack">
  <i class="fa fa-square fa-stack-2x"></i>
  <i class="fa fa-code fa-stack-1x fa-inverse"></i>
</span>Repositories</h1>
</div>

<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/plug-ins/380cb78f450/integration/bootstrap/3/dataTables.bootstrap.css">
<script type="text/javascript" language="javascript" src="//cdn.datatables.net/1.10.3/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" language="javascript" src="//cdn.datatables.net/plug-ins/380cb78f450/integration/bootstrap/3/dataTables.bootstrap.js"></script>
<script type="text/javascript" charset="utf-8">
$(document).ready(function() {
	$('#dtable').dataTable();
} );
</script>

<div class="row">
	<table id="dtable" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
		<thead>
			<tr>
				<th>Name</th><th>Description</th><th>State</th><th>Visbility</th>
			</tr>
		</thead>
		<tbody>

	{% if repos|length == 0 %}
			<tr><td colspan="4">No repos found</td></tr>
	{% else %}
		{% for repo in repos %}
			<tr data-url="{{repo.link}}" class="rowclick-tr">
				<td class="rowclick-td">{{repo.name}}</td>
				<td class="rowclick-td">{{repo.desc|truncate(30)}}</td>
				<td class="rowclick-td">{{repo.status}}</td>
				<td class="rowclick-td">{{repo.visibility}}</td>
			</tr>	
		{% endfor %}
	{%endif%}

		</tbody>
	</table>

</div>
{% endblock %}