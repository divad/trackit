{% extends "layout.html" %}
{% block body %}

<div class="page-header">
  <div class="pull-right">
  	<a href="{{ url_for('repo_create') }}" class="btn btn-info" rel="tooltip" data-toggle="tooltip" data-placement="left" title="Create new repository"><i class="fa fa-fw fa-plus"></i><span class="hidden-xs"> Create repository</span></a>
  </div>
  <h1>
<span class="fa-stack">
  <i class="fa fa-square fa-stack-2x"></i>
  <i class="fa fa-code-fork fa-stack-1x fa-inverse"></i>
</span>Repositories</h1>
</div>

<!--<table id="tsort" class="table table-hover table-striped">
	<thead>
		<tr>
			<th>Name</th>
			<th>Description</th>
			<th>Status</th>
			<th>Source Control</th>
			<th>Web Tool</th>
		</tr>
	</thead>
	<tbody class="rowclick-table">
{% if repos|length == 0 %}
		<tr>
			<td colspan='3'>There are no repositories!</td>
		</tr>
{% else %}
	{% for repo in repos %}
		<tr class="rowclick-tr" data-url="{{ repo.link }}">
			<td class="rowclick-td">{{ repo.name }}</td>
			<td class="rowclick-td" style="width: 40%">{{ repo.desc }}</td>
			<td class="rowclick-td">{{ repo.status }}</td>
			<td class="rowclick-td" style="width: 12%">
				{% if repo.src_type == 'git' %}
					<span class="label label-primary">GIT</span>
				{% endif %}
				{% if repo.src_type == 'svn' %}
					<span class="label label-primary">SVN</span>
				{% endif %}
				{% if repo.src_type == 'hg' %}
					<span class="label label-primary">HG</span>
				{% endif %}
				{% if repo.src_type == 'none' %}
					<span class="label label-default">N/A</span>
				{% endif %}
			</td>
			<td class="rowclick-td">
				{% if repo.web_type == 'trac' %}
					<span class="label label-info">Trac</span>
				{% endif %}
				{% if repo.web_type == 'redmine' %}
					<span class="label label-info">Redmine</span>
				{% endif %}
				{% if repo.web_type == 'none' %}
					<span class="label label-default">N/A</span>
				{% endif %}
			</td>
		</tr>
	{% endfor %}
{% endif %}
	</tbody>
</table>-->

<div class="row">

{% if repos|length == 0 %}
		<h3>No projects found</h3>
{% else %}
	{% for repo in repos %}
		<div class="col-md-3 qq">
			<div class="well block-display">
				<h2><a href="{{ repo.link }}">{{ repo.name }}</a></h2>
				<p>{{ repo.desc|truncate(160) }}</p>
				<p>Status: {{ repo.status }}</p>
			</div>
		</div>
	{% endfor %}
{%endif%}
</div>

{% endblock %}
